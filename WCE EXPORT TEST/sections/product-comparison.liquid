{% comment %}theme-check-disable TemplateLength{% endcomment %}
{% liquid
  assign is_empty = true
  if section.settings.products.count > 1
    assign is_empty = false
  endif

  assign hide_because_empty = false
  if request.design_mode == false and section.settings.hide_if_empty and is_empty
    assign hide_because_empty = true
  endif
%}
{%- unless hide_because_empty -%}
  {{ 'component-price.css' | asset_url | stylesheet_tag }}
  {{ 'component-rating.css' | asset_url | stylesheet_tag }}
  {{ 'component-product-compare.css' | asset_url | stylesheet_tag }}

  {% liquid
    assign color_scheme_string = section.settings.color_scheme | append: ''
    assign block_section_class = 'block-section'
    unless color_scheme_string == 'background-1'
      assign block_section_class = block_section_class | append: ' block-section-padded'
    endunless

    assign product_count = 4
    if section.settings.products != blank
      assign product_count = section.settings.products.count
    endif

    if section.settings.product_header_add_to_cart_button == 'add_to_cart'
      assign load_product_form_script = true
    endif

    assign preorderSuffixArray = product.template_suffix | split: 'pre-order-'
    assign is_pre_order = false
    if product.template_suffix != blank and preorderSuffixArray[0] == blank or product.template_suffix == 'pre-order'
      assign is_pre_order = true
    endif
  %}

  {% if load_product_form_script %}
    <script src="{{ 'product-form.js' | asset_url }}" defer="defer"></script>
  {% endif %}

  {%- capture visibility_classes -%}{%- render 'section-visibility-classes' -%}{%- endcapture -%}
  {%- assign visibility_classes = visibility_classes | strip -%}

  <style>
    #shopify-section-{{ section.id }} .block-section {
    	margin-top: {{ section.settings.spacing_top | times: 0.8 | round: 0 }}px;
    	margin-bottom: {{ section.settings.spacing_bottom | times: 0.8 | round: 0 }}px;
    }

    #shopify-section-{{ section.id }} .block-section-padded {
    	margin-top: 0;
    	margin-bottom: 0;
    	padding-top: {{ section.settings.spacing_top | times: 0.8 | round: 0 }}px;
    	padding-bottom: {{ section.settings.spacing_bottom | times: 0.8 | round: 0 }}px;
    }

    @media (min-width: 990px) {
    	#shopify-section-{{ section.id }} .block-section {
    		margin-top: {{ section.settings.spacing_top }}px;
    		margin-bottom: {{ section.settings.spacing_bottom }}px;
    	}

    	#shopify-section-{{ section.id }} .block-section-padded {
    		margin-top: 0;
    		margin-bottom: 0;
    		padding-top: {{ section.settings.spacing_top }}px;
    		padding-bottom: {{ section.settings.spacing_bottom }}px;
    	}
    }
  </style>

  <div class="{{ visibility_classes }}">
    <div class="color-{{ section.settings.color_scheme }}">
      <div class="container">
        <div class="{{ block_section_class }}">
          {% if section.settings.heading != blank or section.settings.subheading != blank %}
            <div class="block-block-section-title-wrapper {% if section.settings.subheading != blank %}with-subtitle{% endif %}">
              <div class="block-section-title-wrap">
                {% if section.settings.heading != blank %}
                  <{{ section.settings.heading_tag }} class="block-section-title heading-size-{{ section.settings.heading_size }}">
                    {{- section.settings.heading -}}
                  </{{ section.settings.heading_tag }}>
                {% endif %}
                {% if section.settings.subheading != blank %}
                  <p class="block-section-subtitle">{{ section.settings.subheading }}</p>
                {% endif %}
              </div>
            </div>
          {% endif %}

          <div id="ProductComparePage-{{ section.id }}" class="product-compare-section">
            <div class="product-compare-wrapper">
              <div
                class="product-compare-grid {% unless section.settings.show_headings %} product-compare-grid-no-headings{% endunless %}"
                style="--compare-row-count: {{ section.blocks.size | plus: 1 }}; --compare-product-count: {{ product_count }};"
              >
                {% if section.settings.show_headings %}
                  <div class="product-compare-item product-compare-header">
                    <div
                      class="product-compare-item-row product-compare-row-product_header product-compare-label"
                      data-index="0"
                    ></div>
                    {% for block in section.blocks %}
                      <div
                        class="product-compare-item-row product-compare-row-{{ block.type }} product-compare-label"
                        data-index="{{ forloop.index }}"
                      >
                        {{ block.settings.heading }}
                      </div>
                    {% endfor %}
                  </div>
                {% endif %}

                {% for product in section.settings.products %}
                  <div
                    class="product-compare-item product-compare-product"
                    data-count="{{ section.blocks.size | plus: 1 }}"
                    data-handle="{{ product.handle }}"
                  >
                    <div
                      class="product-compare-item-row product-compare-row-product_header product-compare-value"
                      data-index="0"
                    >
                      {%- liquid
                        assign featured_media = product.selected_or_first_available_variant.featured_media | default: product.featured_media | default: settings.product_placeholder_image

                        assign ratio = 1
                        if featured_media and section.settings.product_header_image_ratio == 'portrait'
                          assign ratio = 0.8
                        elsif featured_media and section.settings.product_header_image_ratio == 'landscape'
                          assign ratio = 1.77
                        elsif featured_media and section.settings.product_header_image_ratio == 'adapt'
                          assign ratio = featured_media.aspect_ratio
                        endif
                        if ratio == 0 or ratio == null
                          assign ratio = 1
                        endif

                        assign image_sizes = '(min-width: 1200px) 420px, (min-width: 750px) calc((100vw - 4rem - 3rem) / 3), calc(100vw - 3rem - 1rem)'
                      -%}

                      {% if featured_media %}
                        <figure class="product-compare-item-image">
                          <a href="{{ product.url }}">
                            {% if ratio != 0 %}
                              <div
                                class="aspect-ratio"
                                style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;"
                              >
                            {% endif %}
                            {{
                              featured_media
                              | image_url: width: 950
                              | image_tag:
                                class: 'card-media-image',
                                sizes: image_sizes,
                                widths: '200, 420, 650, 750, 950'
                            }}
                            {% if ratio != 0 %}
                              </div>
                            {% endif %}
                          </a>
                        </figure>
                      {% endif %}

                      <div class="product-compare-item-title">
                        <a href="{{ product.url }}">
                          {% if settings.product_cards_truncate_title_chars > 0 %}
                            {{
                              product.title
                              | truncate: settings.product_cards_truncate_title_chars
                              | escape
                            }}
                          {% else %}
                            {{ product.title | escape }}
                          {% endif %}
                        </a>
                      </div>

                      {% unless settings.catalog_enabled
                        or section.settings.product_header_add_to_cart_button == 'hide'
                      %}
                        <div class="product-compare-item-buy-buttons">
                          {% assign product_form_id = 'product-form-'
                            | append: section.id
                            | append: '-'
                            | append: product.id
                          %}

                          {%- capture login_for_price -%}{%- render 'price-get-login-for-price', product: product -%}{%- endcapture -%}
                          {%- assign login_for_price = login_for_price | strip -%}
                          {% if login_for_price != 'true'
                            and section.settings.product_header_add_to_cart_button == 'add_to_cart'
                          %}
                            <product-form class="product-form">
                              <div
                                class="product-form-error-message-wrapper form-status form-status-error"
                                role="alert"
                                hidden
                              >
                                <span class="product-form-error-message"></span>
                              </div>

                              {% form 'product',
                                product,
                                id: product_form_id,
                                class: 'form',
                                novalidate: 'novalidate',
                                data-type: 'add-to-cart-form',
                                data-stock-threshold: settings.only_x_left,
                                data-event-context: 'MainProductPage'
                              %}
                                <input
                                  type="hidden"
                                  name="id"
                                  value="{{ product.selected_or_first_available_variant.id }}"
                                  {% if product.selected_or_first_available_variant.available
                                      == false
                                    or product.selected_or_first_available_variant == null
                                  %}
                                    disabled
                                  {% endif %}
                                >

                                <div class="product-actions">
                                  <div class="product-actions-add-to-cart">
                                    {% if section.settings.product_header_show_quantity %}
                                      <quantity-input class="quantity-input">
                                        <button
                                          type="button"
                                          name="minus"
                                          class="quantity-input-button quantity-input-minus no-js-hidden"
                                        >
                                          &minus;
                                          <span class="visually-hidden">
                                            {{-
                                              'products.product.quantity.decrease'
                                              | t: product: product.title
                                              | escape
                                            -}}
                                          </span>
                                        </button>
                                        <label
                                          for="quantity-input-{{ product.id }}"
                                          class="visually-hidden"
                                        >
                                          {{- 'products.product.quantity.label' | t -}}
                                        </label>
                                        <input
                                          name="quantity"
                                          type="number"
                                          class="quantity-input-field"
                                          id="quantity-input-{{ product.id }}"
                                          min="1"
                                          value="1"
                                          form="{{ product_form_id }}"
                                        >
                                        <button
                                          type="button"
                                          name="plus"
                                          class="quantity-input-button quantity-input-plus no-js-hidden"
                                        >
                                          &plus;
                                          <span class="visually-hidden">
                                            {{-
                                              'products.product.quantity.increase'
                                              | t: product: product.title
                                              | escape
                                            -}}
                                          </span>
                                        </button>
                                      </quantity-input>
                                    {% endif %}

                                    <button
                                      type="submit"
                                      name="add"
                                      class="button button-add-to-cart"
                                      {% if product.selected_or_first_available_variant.available
                                          == false
                                        or product.selected_or_first_available_variant == null
                                      %}
                                        disabled
                                      {% endif %}
                                    >
                                      {%- if product.selected_or_first_available_variant == null -%}
                                        <span>
                                          {{- 'products.product.availability.unavailable' | t -}}
                                        </span>
                                      {%- elsif product.selected_or_first_available_variant.available
                                        and is_pre_order
                                      -%}
                                        <span>{{ 'products.product.pre_order' | t }}</span>
                                      {%- elsif product.selected_or_first_available_variant.inventory_policy
                                          == 'continue'
                                        and product.selected_or_first_available_variant.inventory_quantity
                                          <= 0
                                      -%}
                                        <span>{{ 'products.product.backorder' | t }}</span>
                                      {%- elsif product.selected_or_first_available_variant.available -%}
                                        <span>{{ 'products.product.add_to_cart' | t }}</span>
                                      {%- else -%}
                                        <span>
                                          {{- 'products.product.availability.out_of_stock' | t -}}
                                        </span>
                                      {%- endif -%}

                                      <div class="button-overlay-spinner hidden">
                                        <span class="spinner-xs"></span>
                                      </div>
                                    </button>
                                  </div>
                                </div>
                              {% endform %}
                            </product-form>
                          {% endif %}

                          {% if section.settings.product_header_add_to_cart_button == 'view_product'
                          %}
                            <a
                              href="{{ product.url }}"
                              class="button button-view-product"
                            >
                              {{
                                'templates.collection.product_compare.view_product_button_label'
                                | t
                              }}
                            </a>
                          {% endif %}
                        </div>
                      {% endunless %}
                    </div>
                    {% for block in section.blocks %}
                      <div
                        class="product-compare-item-row product-compare-row-{{ block.type }} product-compare-value"
                        data-index="{{ forloop.index }}"
                        {{ block.shopify_attributes }}
                      >
                        {% case block.type %}
                          {%- when 'vendor' -%}
                            {% if product.vendor != blank %}
                              {% liquid
                                assign matching_collection = false
                                assign vendor_handle = product.vendor | handleize
                                for collection in product.collections
                                  if collection.handle == vendor_handle
                                    assign matching_collection = true
                                  endif
                                endfor
                              %}
                              {% if matching_collection %}
                                <a href="{{ routes.collections_url }}/{{ vendor_handle }}">
                                  {{- product.vendor -}}
                                </a>
                              {% else %}
                                {{ product.vendor | link_to_vendor }}
                              {% endif %}
                            {% endif %}

                          {%- when 'price' -%}
                            {% unless settings.catalog_enabled %}
                              {%- capture login_for_price -%}{%- render 'price-get-login-for-price', product: product -%}{%- endcapture -%}
                              {%- assign login_for_price = login_for_price | strip -%}
                              {% if login_for_price == 'true' %}
                                <div
                                  class="{% unless product.has_only_default_variant %}no-js-hidden{% endunless %} {% if product.selected_or_first_available_variant == nil %}visually-hidden{% endif %}"
                                  id="price-{{ section.id }}"
                                  role="status"
                                  {{ block.shopify_attributes }}
                                >
                                  {% render 'price-login-for-price' %}
                                </div>
                              {% else %}
                                <div
                                  class="{% unless product.has_only_default_variant %}no-js-hidden{% endunless %} {% if product.selected_or_first_available_variant == nil %}visually-hidden{% endif %}"
                                  id="price-{{ section.id }}"
                                  role="status"
                                  {{ block.shopify_attributes }}
                                >
                                  {% render 'price',
                                    product: product,
                                    discount_badge: true,
                                    use_variant: true
                                  %}
                                </div>
                              {% endif %}
                            {% endunless %}

                          {% when 'description' %}
                            {% if product.description != blank %}
                              <div class="rte">
                                {% if block.settings.truncate_chars > 0 %}
                                  {{
                                    product.description
                                    | strip_html
                                    | truncate: block.settings.truncate_chars
                                    | escape
                                  }}
                                {% else %}
                                  {{ product.description | strip_html | escape }}
                                {% endif %}
                              </div>
                            {% endif %}

                          {%- when 'rating' -%}
                            {% render 'product-rating-widget', product: product %}

                          {%- when 'text' -%}
                            {% if block.settings.text != blank %}
                              {{ block.settings.text }}
                            {% endif %}

                          {% when 'availability' %}
                            {% unless settings.catalog_enabled %}
                              {%- liquid
                                assign pick_up_availabilities = product.selected_or_first_available_variant.store_availabilities | where: 'pick_up_enabled', true | where: 'available', true
                              -%}
                              {% if product.selected_or_first_available_variant.available
                                and pick_up_availabilities.size > 0
                              %}
                                {{ 'templates.collection.product_compare.pickup_available' | t }}
                              {% else %}
                                {{ 'templates.collection.product_compare.pickup_unavailable' | t }}
                              {% endif %}
                            {% endunless %}

                          {% when 'stock_availability' %}
                            {% render 'product-availability', product: product %}

                          {% when 'variants' %}
                            {%- if product and product.has_only_default_variant == false -%}
                              {%- for option in product.options_with_values -%}
                                <div class="product-compare-variant-option">
                                  <span>{{ option.name | escape }}</span>:
                                  {{ option.values | join: ', ' | escape }}
                                </div>
                              {%- endfor -%}
                            {%- endif -%}

                          {% when 'product_metadata' %}
                            {% render 'main-product-metadata-block',
                              product: product,
                              settings: block.settings,
                              block: block
                            %}

                          {% when 'sku' %}
                            {% if product.selected_or_first_available_variant.sku != blank %}
                              <span class="product-info-meta-item product-info-meta-item-code">
                                <span
                                  class="ProductSku-{{ section.id }}"
                                  id="ProductSku-{{ section.id }}"
                                >
                                  {{- product.selected_or_first_available_variant.sku -}}
                                </span>
                              </span>
                            {% endif %}

                          {% when 'barcode' %}
                            {% if product.selected_or_first_available_variant.barcode != blank %}
                              <span class="product-info-meta-item product-info-meta-item-code">
                                {% if block.settings.barcode_label != blank %}
                                  {{ block.settings.barcode_label }}:
                                {% endif %}
                                <span
                                  class="ProductBarcode-{{ section.id }}"
                                  id="ProductBarcode-{{ section.id }}"
                                >
                                  {{- product.selected_or_first_available_variant.barcode -}}
                                </span>
                              </span>
                            {% endif %}

                          {% when 'image' %}
                            {% capture image_sizes %}
                              (min-width: 990px) calc(650px * {{ block.settings.width | divided_by: 100.0 }}), calc((100vw - 3rem) * {{ block.settings.width | divided_by: 100.0 }})
                            {% endcapture %}

                            {% if block.settings.image %}
                              <div
                                class="product-compare-image-block product-compare-image-block-align-{{ block.settings.alignment }}"
                                style="--product-compare-image-block-width: {{ block.settings.width }}%;"
                              >
                                {% if block.settings.link != blank %}
                                  <a href="{{ block.settings.link }}">
                                {% endif %}
                                {{
                                  block.settings.image
                                  | image_url: width: 1600
                                  | image_tag:
                                    class: 'product-compare-image-block-img',
                                    loading: 'lazy',
                                    sizes: image_sizes,
                                    widths: '150, 200, 250, 30, 400, 500, 650, 800, 1000, 1300, 1600'
                                }}
                                {% if block.settings.link != blank %}
                                  </a>
                                {% endif %}
                              </div>
                            {% endif %}

                          {% when 'richtext' %}
                            {% if block.settings.text != blank %}
                              <div class="rte">
                                {{ block.settings.text }}
                              </div>
                            {% endif %}

                          {%- when 'metafields' -%}
                            {% capture output %}
                            {% render 'product-metafields', product: product, metafields_list: block.settings.metafields %}
                          {% endcapture %}

                            {% if output != blank or request.design_mode %}
                              {% if block.settings.text_position == 'before' %}
                                <div class="product-info-details-text rte">
                                  {{ block.settings.text }}
                                </div>
                              {% endif %}

                              <ul class="product-info-details-list">
                                {{ output }}
                              </ul>

                              {% if block.settings.text_position == 'after' %}
                                <div class="product-info-details-text rte">
                                  {{ block.settings.text }}
                                </div>
                              {% endif %}
                            {% endif %}

                          {%- when 'custom_liquid' -%}
                            {% capture liquid_output %}{{ block.settings.custom_liquid }}{% endcapture %}
                            {% if liquid_output != blank %}
                              <div class="rte">
                                {{ block.settings.custom_liquid }}
                              </div>
                            {% endif %}

                          {%- when 'range_indicator' -%}
                            {% if block.settings.value or request.design_mode %}
                              {% render 'main-product-range-indicator',
                                from: block.settings.range_from,
                                to: block.settings.range_to,
                                value: block.settings.value,
                                track_color: block.settings.track_color,
                                filled_color: block.settings.filled_color,
                                block: block
                              %}
                            {% endif %}
                        {% endcase %}
                      </div>
                    {% endfor %}
                  </div>
                {% else %}
                  {% for i in (1..product_count) %}
                    <div class="product-compare-item product-compare-product product-compare-item-preview">
                      <div
                        class="product-compare-item-row product-compare-row-product_header product-compare-value"
                        data-index="0"
                      >
                        {%- liquid
                          assign ratio = 1
                          if section.settings.product_header_image_ratio == 'portrait'
                            assign ratio = 0.8
                          elsif section.settings.product_header_image_ratio == 'landscape'
                            assign ratio = 1.77
                          elsif section.settings.product_header_image_ratio == 'adapt'
                            assign ratio = 1
                          endif
                        -%}

                        <figure class="product-compare-item-image">
                          <div
                            class="aspect-ratio"
                            style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;"
                          >
                            {{ 'product-1' | strip | placeholder_svg_tag }}
                          </div>
                        </figure>

                        <div class="product-compare-item-title">
                          <a role="link" aria-disabled="true">
                            {{ 'onboarding.product_title' | t }}
                          </a>
                        </div>

                        {% unless settings.catalog_enabled
                          or section.settings.product_header_add_to_cart_button == 'hide'
                        %}
                          <div class="product-compare-item-buy-buttons">
                            {% if section.settings.product_header_add_to_cart_button
                                == 'add_to_cart'
                            %}
                              <div class="product-form">
                                <div class="product-actions">
                                  <div class="product-actions-add-to-cart">
                                    {% if section.settings.product_header_show_quantity %}
                                      <quantity-input class="quantity-input">
                                        <button
                                          type="button"
                                          name="minus"
                                          class="quantity-input-button quantity-input-minus no-js-hidden"
                                        >
                                          &minus;
                                          <span class="visually-hidden">
                                            {{-
                                              'products.product.quantity.decrease'
                                              | t: product: product.title
                                              | escape
                                            -}}
                                          </span>
                                        </button>
                                        <label
                                          for="quantity-input-compare-placeholder"
                                          class="visually-hidden"
                                        >
                                          {{- 'products.product.quantity.label' | t -}}
                                        </label>
                                        <input
                                          name="quantity"
                                          type="number"
                                          class="quantity-input-field"
                                          id="quantity-input-compare-placeholder"
                                          min="1"
                                          value="1"
                                        >
                                        <button
                                          type="button"
                                          name="plus"
                                          class="quantity-input-button quantity-input-plus no-js-hidden"
                                        >
                                          &plus;
                                          <span class="visually-hidden">
                                            {{-
                                              'products.product.quantity.increase'
                                              | t: product: product.title
                                              | escape
                                            -}}
                                          </span>
                                        </button>
                                      </quantity-input>
                                    {% endif %}

                                    <button
                                      class="button button-add-to-cart"
                                      disabled
                                    >
                                      <span>
                                        {{- 'products.product.availability.out_of_stock' | t -}}
                                      </span>
                                    </button>
                                  </div>
                                </div>
                              </div>
                            {% endif %}

                            {% if section.settings.product_header_add_to_cart_button
                                == 'view_product'
                            %}
                              <a
                                href=""
                                aria-disabled="true"
                                class="button button-view-product"
                              >
                                {{
                                  'templates.collection.product_compare.view_product_button_label'
                                  | t
                                }}
                              </a>
                            {% endif %}
                          </div>
                        {% endunless %}
                      </div>
                      {% for block in section.blocks %}
                        <div
                          class="product-compare-item-row product-compare-row-{{ block.type }} product-compare-value"
                          data-index="{{ forloop.index }}"
                        >
                          {% case block.type %}
                            {%- when 'vendor' -%}
                              <a role="link" aria-disabled="true">
                                {{ 'onboarding.product_vendor' | t }}
                              </a>

                            {%- when 'price' -%}
                              {% unless settings.catalog_enabled %}
                                {% render 'price', product: null, discount_badge: false %}
                              {% endunless %}

                            {% when 'description' %}
                              <div class="rte">
                                {{ 'onboarding.product_description' | t }}
                              </div>

                            {%- when 'rating' -%}
                              {% render 'product-rating-widget', product: null %}

                            {%- when 'text' -%}
                              {{ 'onboarding.sample_text' | t }}

                            {% when 'availability' %}
                              {{ 'templates.collection.product_compare.pickup_available' | t }}

                            {% when 'stock_availability' %}
                              {% render 'product-availability', product: null %}

                            {% when 'product_metadata' %}
                              <div class="product-metadata-block">
                                <div class="product-info-meta">
                                  <div class="product-info-meta-item product-info-meta-item-code">
                                    SKU12345678
                                  </div>
                                  <div class="product-info-meta-item product-info-meta-item-code">
                                    <span>000-000567890</span>
                                  </div>
                                </div>
                              </div>

                            {% when 'sku' %}
                              <span class="product-info-meta-item product-info-meta-item-code">
                                <span
                                  class="ProductSku-{{ section.id }}"
                                  id="ProductSku-{{ section.id }}"
                                >
                                  SKU12345678
                                </span>
                              </span>

                            {% when 'barcode' %}
                              <span class="product-info-meta-item product-info-meta-item-code">
                                {% if block.settings.barcode_label != blank %}
                                  {{ block.settings.barcode_label }}:
                                {% endif %}
                                <span
                                  class="ProductBarcode-{{ section.id }}"
                                  id="ProductBarcode-{{ section.id }}"
                                >
                                  000-000567890
                                </span>
                              </span>

                            {% when 'image' %}
                              <div
                                class="product-compare-image-block product-compare-image-block-align-{{ block.settings.alignment }}"
                                style="--product-compare-image-block-width: {{ block.settings.width }}%;"
                              >
                                <div class="product-compare-image-block-placeholder-wrap">
                                  {{
                                    'collection-1'
                                    | strip
                                    | placeholder_svg_tag: 'product-compare-image-block-placeholder'
                                  }}
                                </div>
                              </div>

                            {% when 'richtext' %}
                              <div class="rte">
                                {{ 'onboarding.sample_text' | t }}
                              </div>

                            {%- when 'metafields' -%}
                              <ul class="product-info-details-list">
                                <li class="product-info-details-item">
                                  <span class="product-info-details-item-label">
                                    {{ 'onboarding.metafield_title' | t }}
                                  </span>
                                  <span class="product-info-details-item-value">
                                    {{ 'onboarding.metafield_value' | t }}
                                  </span>
                                </li>
                              </ul>

                            {%- when 'custom_liquid' -%}
                              <div class="rte">
                                {{ 'onboarding.custom_liquid' | t }}
                              </div>

                            {%- when 'variants' -%}
                              <div class="product-compare-variant-option">
                                {{ 'onboarding.variants_color_html' | t }}
                              </div>

                            {%- when 'range_indicator' -%}
                              {% render 'main-product-range-indicator',
                                from: 1,
                                to: 5,
                                value: 3,
                                track_color: block.settings.track_color,
                                filled_color: block.settings.filled_color,
                                block: block
                              %}

                            {%- else -%}
                              {{ 'onboarding.sample_field_value' | t }}
                          {% endcase %}
                        </div>
                      {% endfor %}
                    </div>
                  {% endfor %}
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{%- endunless -%}
{% schema %}
  {
    "name": "t:sections.product_comparison.name",
    "tag": "section",
    "class": "section section-product-comparison",
    "disabled_on": {
      "groups": ["header", "footer", "custom.overlays"]
    },
    "settings": [
      {
        "type": "header",
        "content": "t:sections.all.section_content.heading"
      },
      {
        "type": "inline_richtext",
        "id": "heading",
        "label": "t:sections.product_comparison.settings.heading.label",
        "default": "Product comparison"
      },
      {
        "type": "select",
        "id": "heading_size",
        "label": "t:sections.all.heading_size.label",
        "default": "md",
        "options": [
          {
            "value": "sm",
            "label": "t:sections.all.heading_size.options.label_sm"
          },
          {
            "value": "md",
            "label": "t:sections.all.heading_size.options.label_md"
          },
          {
            "value": "lg",
            "label": "t:sections.all.heading_size.options.label_lg"
          },
          {
            "value": "xl",
            "label": "t:sections.all.heading_size.options.label_xl"
          },
          {
            "value": "xxl",
            "label": "t:sections.all.heading_size.options.label_xxl"
          }
        ]
      },
      {
        "type": "inline_richtext",
        "id": "subheading",
        "label": "t:sections.product_comparison.settings.subheading.label"
      },
      {
        "type": "product_list",
        "id": "products",
        "label": "t:sections.product_comparison.settings.products.label",
        "limit": 5
      },
      {
        "type": "checkbox",
        "id": "show_headings",
        "default": true,
        "label": "t:sections.product_comparison.settings.show_headings.label"
      },
      {
        "type": "header",
        "content": "t:sections.product_comparison.settings.header_product_header.content"
      },
      {
        "type": "select",
        "id": "product_header_image_ratio",
        "label": "t:sections.product_comparison.settings.product_header_image_ratio.label",
        "default": "square",
        "options": [
          {
            "value": "adapt",
            "label": "t:sections.product_comparison.settings.product_header_image_ratio.options.label_1"
          },
          {
            "value": "portrait",
            "label": "t:sections.product_comparison.settings.product_header_image_ratio.options.label_2"
          },
          {
            "value": "square",
            "label": "t:sections.product_comparison.settings.product_header_image_ratio.options.label_3"
          },
          {
            "value": "landscape",
            "label": "t:sections.product_comparison.settings.product_header_image_ratio.options.label_4"
          }
        ]
      },
      {
        "type": "select",
        "id": "product_header_add_to_cart_button",
        "label": "t:sections.product_comparison.settings.product_header_add_to_cart_button.label",
        "default": "add_to_cart",
        "options": [
          {
            "value": "add_to_cart",
            "label": "t:sections.product_comparison.settings.product_header_add_to_cart_button.options.label_add_to_cart"
          },
          {
            "value": "view_product",
            "label": "t:sections.product_comparison.settings.product_header_add_to_cart_button.options.label_view_product"
          },
          {
            "value": "hide",
            "label": "t:sections.product_comparison.settings.product_header_add_to_cart_button.options.label_hide"
          }
        ]
      },
      {
        "type": "checkbox",
        "id": "product_header_show_quantity",
        "default": true,
        "label": "t:sections.product_comparison.settings.product_header_show_quantity.label",
        "visible_if": "{{ section.settings.product_header_add_to_cart_button == 'add_to_cart' }}"
      },
      {
        "type": "header",
        "content": "t:sections.all.colors.heading"
      },
      {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:sections.all.colors.color_scheme.label",
        "default": "background-1"
      },
      {
        "type": "header",
        "content": "t:sections.all.section_spacing.heading"
      },
      {
        "type": "range",
        "id": "spacing_top",
        "min": 0,
        "max": 150,
        "step": 2,
        "default": 60,
        "label": "t:sections.all.section_spacing.spacing_top.label"
      },
      {
        "type": "range",
        "id": "spacing_bottom",
        "min": 0,
        "max": 150,
        "step": 2,
        "default": 60,
        "label": "t:sections.all.section_spacing.spacing_bottom.label"
      },
      {
        "type": "header",
        "content": "t:sections.all.advanced.seo_heading.label"
      },
      {
        "type": "select",
        "id": "heading_tag",
        "label": "t:sections.all.advanced.heading_tag.label",
        "default": "h2",
        "options": [
          {
            "value": "h1",
            "label": "H1"
          },
          {
            "value": "h2",
            "label": "H2"
          },
          {
            "value": "h3",
            "label": "H3"
          }
        ]
      },
      {
        "type": "header",
        "content": "t:sections.all.advanced.visibility_heading.label"
      },
      {
        "type": "checkbox",
        "id": "show_on_desktop",
        "default": true,
        "label": "t:sections.all.advanced.show_on_desktop.label"
      },
      {
        "type": "checkbox",
        "id": "show_on_mobile",
        "default": true,
        "label": "t:sections.all.advanced.show_on_mobile.label"
      },
      {
        "type": "checkbox",
        "id": "hide_if_empty",
        "default": false,
        "label": "t:sections.product_comparison.settings.hide_if_empty.label",
        "info": "t:sections.all.advanced.hide_if_empty.info"
      }
    ],
    "blocks": [
      {
        "type": "@app"
      },
      {
        "type": "vendor",
        "name": "t:sections.product_comparison.blocks.vendor.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.vendor.settings.heading.label",
            "default": "Vendor"
          }
        ]
      },
      {
        "type": "sku",
        "name": "t:sections.product_comparison.blocks.sku.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.sku.settings.heading.label",
            "default": "SKU"
          }
        ]
      },
      {
        "type": "barcode",
        "name": "t:sections.product_comparison.blocks.barcode.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.barcode.settings.heading.label",
            "default": "Barcode"
          },
          {
            "type": "text",
            "id": "barcode_label",
            "label": "t:sections.product_comparison.blocks.barcode.settings.barcode_label.label",
            "info": "t:sections.product_comparison.blocks.barcode.settings.barcode_label.info",
            "default": "Barcode"
          }
        ]
      },
      {
        "type": "description",
        "name": "t:sections.product_comparison.blocks.description.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.description.settings.heading.label",
            "default": "Description"
          },
          {
            "type": "number",
            "id": "truncate_chars",
            "label": "t:sections.product_comparison.blocks.description.settings.truncate_chars.label",
            "info": "t:sections.product_comparison.blocks.description.settings.truncate_chars.info",
            "placeholder": "e.g. 40",
            "default": 100
          }
        ]
      },
      {
        "type": "price",
        "name": "t:sections.product_comparison.blocks.price.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.price.settings.heading.label",
            "default": "Price"
          }
        ]
      },
      {
        "type": "rating",
        "name": "t:sections.product_comparison.blocks.rating.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.rating.settings.heading.label",
            "default": "Rating"
          }
        ]
      },
      {
        "type": "text",
        "name": "t:sections.product_comparison.blocks.text.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.text.settings.heading.label",
            "default": "Additional text"
          },
          {
            "type": "text",
            "id": "text",
            "label": "t:sections.product_comparison.blocks.text.settings.text.label",
            "default": "Use this block for additional textual information."
          }
        ]
      },
      {
        "type": "richtext",
        "name": "t:sections.product_comparison.blocks.richtext.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.richtext.settings.heading.label",
            "default": "Additional rich text"
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "t:sections.product_comparison.blocks.richtext.settings.text.label",
            "default": "<p>Share additional product information such as usage instructions, sizing guides, etc.</p>"
          }
        ]
      },
      {
        "type": "availability",
        "name": "t:sections.product_comparison.blocks.availability.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.availability.settings.heading.label",
            "default": "Availability"
          }
        ]
      },
      {
        "type": "stock_availability",
        "name": "t:sections.product_comparison.blocks.stock_availability.name",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.stock_availability.settings.heading.label",
            "default": "Stock availability"
          }
        ]
      },
      {
        "type": "product_metadata",
        "name": "t:sections.product_comparison.blocks.product_metadata.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.product_metadata.settings.heading.label",
            "default": "Product data"
          },
          {
            "type": "checkbox",
            "id": "show_vendor",
            "label": "t:sections.product_comparison.blocks.product_metadata.settings.show_vendor.label",
            "default": true
          },
          {
            "type": "checkbox",
            "id": "show_sku",
            "label": "t:sections.product_comparison.blocks.product_metadata.settings.show_sku.label",
            "default": true
          },
          {
            "type": "checkbox",
            "id": "show_barcode",
            "label": "t:sections.product_comparison.blocks.product_metadata.settings.show_barcode.label",
            "default": false
          },
          {
            "type": "text",
            "id": "barcode_label",
            "label": "t:sections.product_comparison.blocks.product_metadata.settings.barcode_label.label",
            "info": "t:sections.product_comparison.blocks.product_metadata.settings.barcode_label.info",
            "default": "Barcode"
          }
        ]
      },
      {
        "type": "image",
        "name": "t:sections.product_comparison.blocks.image.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.image.settings.heading.label"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "t:sections.product_comparison.blocks.image.settings.image.label"
          },
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.product_comparison.blocks.image.settings.link.label"
          },
          {
            "type": "range",
            "id": "width",
            "label": "t:sections.product_comparison.blocks.image.settings.width.label",
            "min": 1,
            "max": 100,
            "step": 1,
            "default": 100,
            "unit": "%"
          },
          {
            "type": "select",
            "id": "alignment",
            "visible_if": "{{ block.settings.width < 100 }}",
            "label": "t:sections.product_comparison.blocks.image.settings.alignment.label",
            "info": "t:sections.product_comparison.blocks.image.settings.alignment.info",
            "default": "left",
            "options": [
              {
                "value": "left",
                "label": "t:sections.product_comparison.blocks.image.settings.alignment.options.label_1"
              },
              {
                "value": "center",
                "label": "t:sections.product_comparison.blocks.image.settings.alignment.options.label_2"
              },
              {
                "value": "right",
                "label": "t:sections.product_comparison.blocks.image.settings.alignment.options.label_3"
              }
            ]
          }
        ]
      },
      {
        "type": "metafields",
        "name": "t:sections.product_comparison.blocks.metafields.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.metafields.name",
            "default": "Specifications"
          },
          {
            "type": "textarea",
            "id": "metafields",
            "label": "t:sections.product_comparison.blocks.metafields.settings.metafields.label",
            "info": "t:sections.product_comparison.blocks.metafields.settings.metafields.info"
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "t:sections.product_comparison.blocks.metafields.settings.text.label",
            "info": "t:sections.product_comparison.blocks.metafields.settings.text.info"
          },
          {
            "type": "select",
            "id": "text_position",
            "label": "t:sections.product_comparison.blocks.metafields.settings.text_position.label",
            "default": "after",
            "options": [
              {
                "value": "before",
                "label": "t:sections.product_comparison.blocks.metafields.settings.text_position.options.label_1"
              },
              {
                "value": "after",
                "label": "t:sections.product_comparison.blocks.metafields.settings.text_position.options.label_2"
              }
            ]
          }
        ]
      },
      {
        "type": "custom_liquid",
        "name": "t:sections.all.custom_liquid.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.custom_liquid.settings.heading.label"
          },
          {
            "type": "liquid",
            "id": "custom_liquid",
            "label": "t:sections.all.custom_liquid.custom_liquid.label",
            "info": "t:sections.all.custom_liquid.custom_liquid.info"
          }
        ]
      },
      {
        "type": "variants",
        "name": "t:sections.product_comparison.blocks.variants.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.variants.settings.heading.label",
            "default": "Variants"
          }
        ]
      },
      {
        "type": "range_indicator",
        "name": "t:sections.product_comparison.blocks.range_indicator.name",
        "settings": [
          {
            "type": "text",
            "id": "heading",
            "label": "t:sections.product_comparison.blocks.range_indicator.settings.heading.label",
            "default": "Performance Rating"
          },
          {
            "type": "number",
            "id": "range_from",
            "label": "t:sections.product_comparison.blocks.range_indicator.settings.range_from.label",
            "default": 1
          },
          {
            "type": "number",
            "id": "range_to",
            "label": "t:sections.product_comparison.blocks.range_indicator.settings.range_to.label",
            "default": 5
          },
          {
            "type": "text",
            "id": "value",
            "label": "t:sections.product_comparison.blocks.range_indicator.settings.value.label",
            "info": "t:sections.product_comparison.blocks.range_indicator.settings.value.info",
            "default": "3"
          },
          {
            "type": "color",
            "id": "filled_color",
            "label": "t:sections.product_comparison.blocks.range_indicator.settings.filled_color.label",
            "default": "#CE333C",
            "alpha": true
          },
          {
            "type": "color",
            "id": "track_color",
            "label": "t:sections.product_comparison.blocks.range_indicator.settings.track_color.label",
            "default": "#e9ecef",
            "alpha": true
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "t:sections.product_comparison.presets.name",
        "category": "t:sections.all.preset_category.products",
        "blocks": [
          {
            "type": "price"
          },
          {
            "type": "vendor"
          },
          {
            "type": "rating"
          },
          {
            "type": "sku"
          },
          {
            "type": "stock_availability"
          }
        ]
      }
    ]
  }
{% endschema %}
